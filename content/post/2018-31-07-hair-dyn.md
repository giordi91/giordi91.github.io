---
date: 2018-07-01
linktitle: HLSL Will it MAD/FMA 
title: "Unity : hair simulation"
tags : ["unity","dynamics"]
---

<details> 
  <summary>SPOILER: What is a MAD/FMA? (click to show text)</summary>
   
   <p style="background:gray;padding: 1em;">
   TL;DR: FMA (Fused multiply add) and MAD/MADD (multiply-add) are a specific instuction in a processor
   which allows to performa a multiplication followed by an add in a single instruction.
   Having that instruction baked in hardware allows to achieve two results, higher performance
   due to performaing the operation in a single instruction and less instruction/fetch and decoding
   down the cpu pipeline.
   </p>
   
   <p style="background:gray;padding: 1em;">
   Proper explanation:
   <a href="https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation" target="_blank">FMA on wikipedia</a>
   <p>
</details>

After having watched the great GDC videos <a href="https://www.gdcvault.com/play/1020352/Low-Level-Shader-Optimization-for" target="_blank">[1]</a> <a href="https://www.gdcvault.com/play/1017786/Low-Level-Thinking-in-High" target="_blank">[2]</a> from <a href="https://twitter.com/_Humus_" target="_blank">Emil Persson</a> the first thing that came to mind was, ***will this FMA***? 

![final](../images/02_hairDyn/final.gif)

